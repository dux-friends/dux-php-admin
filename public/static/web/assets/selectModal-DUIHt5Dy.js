import{P as y,k as C,Q as h,e as b}from"./vendor-dux-BCq3D0lD.js";import"./vendor-echarts-WS0dNiAY.js";import"./vendor-editor-BfycqkWO.js";import"./vendor-ace-BiCsOx2U.js";import"./vendor-tools-Dpu1PaXY.js";import{B as s,L as z}from"./vendor-naive-CfU4HarF.js";import{k,c as w,r as l,w as x,a3 as o,F,m as K,s as P,u as j}from"./vendor-vue-DhmHF6T1.js";import"./vendor-pinia-DtJZ8aZg.js";import"./vendor-lodash-Cwra0HQr.js";import"./vendor-vueuse-DAgSjsg2.js";import"./vendor-vee-BM0txFR5.js";function c(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!j(e)}const q=k({name:"Select",props:{path:String,columns:Array,rowKey:{type:String,default:"id"},filterSchema:{type:Array},onConfirm:Function,onClose:Function},setup(e){const{t:r}=y(),u=w(()=>[{type:"selection",fixed:"left"},...e.columns||[]]),i=l({}),a=l({page:1,pageSize:10}),{table:m,list:f,pageCount:g,pageSizes:d,checkeds:v}=C({path:e.path||"",columns:u.value||[],filters:i,pagination:a.value}),p=l([]);x(v,t=>{p.value=f.value?.filter(n=>t.includes(n[e.rowKey]))});const S=h({data:e.filterSchema||[],context:{filter:i.value}});return()=>o(b,{title:r("components.data.selectTitle"),onClose:()=>{e.onClose?.()}},{default:()=>o("div",{class:"flex flex-col gap-4"},[e.filterSchema&&o("div",{class:"grid grid-cols-1 md:grid-cols-4 gap-2"},[K(S.render)]),o(z,P({bordered:!1,maxHeight:400,rowKey:t=>t[e.rowKey]},m.value,{pagination:{page:a.value.page,pageSize:a.value.pageSize,pageCount:g.value,pageSizes:d,onUpdatePage:t=>{a.value.page=t},onUpdatePageSize:t=>{a.value.pageSize=t}}}),null)]),footer:()=>{let t,n;return o(F,null,[o(s,{onClick:()=>{e.onClose?.()}},c(t=r("components.button.cancel"))?t:{default:()=>[t]}),o(s,{type:"primary",onClick:()=>{e.onConfirm?.(p.value)}},c(n=r("components.button.select"))?n:{default:()=>[n]})])}})}});export{q as default};
